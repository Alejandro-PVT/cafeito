{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Golux/Downloads/CafeITOax/components/client/header.tsx"],"sourcesContent":["\"use client\"\n\ninterface HeaderProps {\n  cartCount: number\n  onCartClick: () => void\n}\n\nexport default function Header({ cartCount, onCartClick }: HeaderProps) {\n  return (\n    <header className=\"cafeito-header sticky top-0 z-50\">\n      <div className=\"container mx-auto px-4 py-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-10 h-10 bg-primary-foreground rounded-full flex items-center justify-center font-bold text-primary\">\n              C\n            </div>\n            <h1 className=\"text-2xl font-bold\">CafeITO</h1>\n          </div>\n          <button\n            onClick={onCartClick}\n            className=\"relative px-4 py-2 rounded-lg bg-primary-foreground text-primary font-semibold hover:bg-opacity-90 transition\"\n          >\n            üõí Carrito ({cartCount})\n          </button>\n        </div>\n      </div>\n    </header>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAOe,SAAS,OAAO,EAAE,SAAS,EAAE,WAAW,EAAe;IACpE,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CAAuG;;;;;;0CAGtH,8OAAC;gCAAG,WAAU;0CAAqB;;;;;;;;;;;;kCAErC,8OAAC;wBACC,SAAS;wBACT,WAAU;;4BACX;4BACc;4BAAU;;;;;;;;;;;;;;;;;;;;;;;AAMnC"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Golux/Downloads/CafeITOax/components/client/product-card.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\n\ninterface Product {\n  id: number\n  name: string\n  description: string\n  price: number | string\n  image_url: string\n  stock: number\n  category_name?: string\n}\n\ninterface ProductCardProps {\n  product: Product\n  onAddToCart: () => void\n}\n\nexport default function ProductCard({ product, onAddToCart }: ProductCardProps) {\n  const [imageError, setImageError] = useState(false)\n  const isOutOfStock = product.stock === 0\n  const price = typeof product.price === \"string\" ? Number.parseFloat(product.price) : product.price\n  const displayPrice = isNaN(price) ? 0 : price\n\n  const getProductImageUrl = () => {\n    const productName = product.name.toLowerCase()\n\n    // Mapeo espec√≠fico por nombre de producto\n    const imageMap: Record<string, string> = {\n      // Caf√©s\n      espresso: \"https://images.unsplash.com/photo-1510591509098-f4fdc6d0ff04?w=400&h=300&fit=crop\",\n      americano: \"https://images.unsplash.com/photo-1514432324607-a09d9b4aefdd?w=400&h=300&fit=crop\",\n      cappuccino: \"https://images.unsplash.com/photo-1572442388796-11668a67e53d?w=400&h=300&fit=crop\",\n      latte: \"https://images.unsplash.com/photo-1561882468-9110e03e0f78?w=400&h=300&fit=crop\",\n      mocha: \"https://images.unsplash.com/photo-1607260550778-aa4d10b3e1e8?w=400&h=300&fit=crop\",\n\n      // Panes\n      croissant: \"https://images.unsplash.com/photo-1555507036-ab1f4038808a?w=400&h=300&fit=crop\",\n      \"pan dulce\": \"https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400&h=300&fit=crop\",\n      concha: \"https://images.unsplash.com/photo-1608198093002-ad4e005484ec?w=400&h=300&fit=crop\",\n      dona: \"https://images.unsplash.com/photo-1551024506-0bccd828d307?w=400&h=300&fit=crop\",\n      muffin: \"https://images.unsplash.com/photo-1607958996333-41aef7caefaa?w=400&h=300&fit=crop\",\n\n      // Productos de caf√©\n      \"caf√© molido\": \"https://images.unsplash.com/photo-1559056199-641a0ac8b55e?w=400&h=300&fit=crop\",\n      \"caf√© en grano\": \"https://images.unsplash.com/photo-1447933601403-0c6688de566e?w=400&h=300&fit=crop\",\n      \"taza cer√°mica\": \"https://images.unsplash.com/photo-1514228742587-6b1558fcca3d?w=400&h=300&fit=crop\",\n      \"taza t√©rmica\": \"https://images.unsplash.com/photo-1606662168929-2d78da441c6f?w=400&h=300&fit=crop\",\n      \"french press\": \"https://images.unsplash.com/photo-1517668808822-9ebb02f2a0e6?w=400&h=300&fit=crop\",\n    }\n\n    // Buscar coincidencia exacta o parcial\n    for (const [key, url] of Object.entries(imageMap)) {\n      if (productName.includes(key)) {\n        return url\n      }\n    }\n\n    // Fallback basado en categor√≠a\n    const category = product.category_name?.toLowerCase() || \"\"\n    if (category.includes(\"caf√©\") && !category.includes(\"producto\")) {\n      return \"https://images.unsplash.com/photo-1511920170033-f8396924c348?w=400&h=300&fit=crop\"\n    } else if (category.includes(\"pan\")) {\n      return \"https://images.unsplash.com/photo-1555507036-ab1f4038808a?w=400&h=300&fit=crop\"\n    } else if (category.includes(\"taza\") || category.includes(\"accesorio\")) {\n      return \"https://images.unsplash.com/photo-1514228742587-6b1558fcca3d?w=400&h=300&fit=crop\"\n    } else if (category.includes(\"molido\") || category.includes(\"grano\")) {\n      return \"https://images.unsplash.com/photo-1559056199-641a0ac8b55e?w=400&h=300&fit=crop\"\n    }\n\n    // Default general\n    return \"https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?w=400&h=300&fit=crop\"\n  }\n\n  const imageUrl = imageError || !product.image_url ? getProductImageUrl() : product.image_url\n\n  return (\n    <div className=\"cafeito-card overflow-hidden hover:shadow-lg transition\">\n      <div className=\"relative h-48 bg-muted overflow-hidden\">\n        <img\n          src={imageUrl || \"/placeholder.svg\"}\n          alt={product.name}\n          className=\"w-full h-full object-cover\"\n          onError={() => setImageError(true)}\n          crossOrigin=\"anonymous\"\n        />\n        {isOutOfStock && (\n          <div className=\"absolute inset-0 bg-black/50 flex items-center justify-center\">\n            <span className=\"text-white font-bold text-lg\">Agotado</span>\n          </div>\n        )}\n      </div>\n\n      <div className=\"p-4\">\n        <h3 className=\"font-bold text-lg mb-2\">{product.name}</h3>\n        <p className=\"text-sm text-muted-foreground mb-3\">{product.description}</p>\n\n        <div className=\"flex items-center justify-between\">\n          <span className=\"text-2xl font-bold text-primary\">${displayPrice.toFixed(2)}</span>\n          <button\n            onClick={onAddToCart}\n            disabled={isOutOfStock}\n            className={`px-4 py-2 rounded-lg font-semibold transition ${\n              isOutOfStock\n                ? \"bg-muted text-muted-foreground cursor-not-allowed\"\n                : \"cafeito-button-secondary hover:bg-secondary/90\"\n            }`}\n          >\n            {isOutOfStock ? \"Sin stock\" : \"A√±adir\"}\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAmBe,SAAS,YAAY,EAAE,OAAO,EAAE,WAAW,EAAoB;IAC5E,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,eAAe,QAAQ,KAAK,KAAK;IACvC,MAAM,QAAQ,OAAO,QAAQ,KAAK,KAAK,WAAW,OAAO,UAAU,CAAC,QAAQ,KAAK,IAAI,QAAQ,KAAK;IAClG,MAAM,eAAe,MAAM,SAAS,IAAI;IAExC,MAAM,qBAAqB;QACzB,MAAM,cAAc,QAAQ,IAAI,CAAC,WAAW;QAE5C,0CAA0C;QAC1C,MAAM,WAAmC;YACvC,QAAQ;YACR,UAAU;YACV,WAAW;YACX,YAAY;YACZ,OAAO;YACP,OAAO;YAEP,QAAQ;YACR,WAAW;YACX,aAAa;YACb,QAAQ;YACR,MAAM;YACN,QAAQ;YAER,oBAAoB;YACpB,eAAe;YACf,iBAAiB;YACjB,iBAAiB;YACjB,gBAAgB;YAChB,gBAAgB;QAClB;QAEA,uCAAuC;QACvC,KAAK,MAAM,CAAC,KAAK,IAAI,IAAI,OAAO,OAAO,CAAC,UAAW;YACjD,IAAI,YAAY,QAAQ,CAAC,MAAM;gBAC7B,OAAO;YACT;QACF;QAEA,+BAA+B;QAC/B,MAAM,WAAW,QAAQ,aAAa,EAAE,iBAAiB;QACzD,IAAI,SAAS,QAAQ,CAAC,WAAW,CAAC,SAAS,QAAQ,CAAC,aAAa;YAC/D,OAAO;QACT,OAAO,IAAI,SAAS,QAAQ,CAAC,QAAQ;YACnC,OAAO;QACT,OAAO,IAAI,SAAS,QAAQ,CAAC,WAAW,SAAS,QAAQ,CAAC,cAAc;YACtE,OAAO;QACT,OAAO,IAAI,SAAS,QAAQ,CAAC,aAAa,SAAS,QAAQ,CAAC,UAAU;YACpE,OAAO;QACT;QAEA,kBAAkB;QAClB,OAAO;IACT;IAEA,MAAM,WAAW,cAAc,CAAC,QAAQ,SAAS,GAAG,uBAAuB,QAAQ,SAAS;IAE5F,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,KAAK,YAAY;wBACjB,KAAK,QAAQ,IAAI;wBACjB,WAAU;wBACV,SAAS,IAAM,cAAc;wBAC7B,aAAY;;;;;;oBAEb,8BACC,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAK,WAAU;sCAA+B;;;;;;;;;;;;;;;;;0BAKrD,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA0B,QAAQ,IAAI;;;;;;kCACpD,8OAAC;wBAAE,WAAU;kCAAsC,QAAQ,WAAW;;;;;;kCAEtE,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAK,WAAU;;oCAAkC;oCAAE,aAAa,OAAO,CAAC;;;;;;;0CACzE,8OAAC;gCACC,SAAS;gCACT,UAAU;gCACV,WAAW,CAAC,8CAA8C,EACxD,eACI,sDACA,kDACJ;0CAED,eAAe,cAAc;;;;;;;;;;;;;;;;;;;;;;;;AAM1C"}},
    {"offset": {"line": 240, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Golux/Downloads/CafeITOax/components/client/product-catalog.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport ProductCard from \"./product-card\"\n\ninterface Product {\n  id: number\n  name: string\n  description: string\n  price: number\n  image_url: string\n  category_name: string\n  stock: number\n}\n\ninterface CatalogProps {\n  onAddToCart: (product: Product) => void\n}\n\nexport default function ProductCatalog({ onAddToCart }: CatalogProps) {\n  const [products, setProducts] = useState<Product[]>([])\n  const [categories, setCategories] = useState<any[]>([])\n  const [selectedCategory, setSelectedCategory] = useState<string | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true)\n        const [productsRes, categoriesRes] = await Promise.all([fetch(\"/api/products\"), fetch(\"/api/categories\")])\n\n        if (!productsRes.ok || !categoriesRes.ok) {\n          throw new Error(\"Error cargando datos\")\n        }\n\n        const productsData = await productsRes.json()\n        const categoriesData = await categoriesRes.json()\n\n        setProducts(productsData)\n        setCategories(categoriesData)\n        if (categoriesData.length > 0) {\n          setSelectedCategory(categoriesData[0].name)\n        }\n      } catch (err) {\n        setError(\"Error cargando productos\")\n        console.error(err)\n      } finally {\n        setLoading(false)\n      }\n    }\n\n    fetchData()\n  }, [])\n\n  const filteredProducts = selectedCategory ? products.filter((p) => p.category_name === selectedCategory) : products\n\n  if (loading) {\n    return <div className=\"text-center py-8\">Cargando productos...</div>\n  }\n\n  if (error) {\n    return <div className=\"text-center py-8 text-destructive\">{error}</div>\n  }\n\n  return (\n    <div>\n      <div className=\"mb-8\">\n        <h2 className=\"text-2xl font-bold mb-4\">Nuestros Productos</h2>\n        <div className=\"flex gap-2 flex-wrap\">\n          {categories.map((cat) => (\n            <button\n              key={cat.id}\n              onClick={() => setSelectedCategory(cat.name)}\n              className={`px-4 py-2 rounded-lg font-semibold transition ${\n                selectedCategory === cat.name\n                  ? \"cafeito-button-primary\"\n                  : \"bg-muted text-muted-foreground hover:bg-secondary hover:text-secondary-foreground\"\n              }`}\n            >\n              {cat.name}\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {filteredProducts.map((product) => (\n          <ProductCard key={product.id} product={product} onAddToCart={() => onAddToCart(product)} />\n        ))}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAmBe,SAAS,eAAe,EAAE,WAAW,EAAgB;IAClE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IACtD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAgB;IACxE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAElD,IAAA,kNAAS,EAAC;QACR,MAAM,YAAY;YAChB,IAAI;gBACF,WAAW;gBACX,MAAM,CAAC,aAAa,cAAc,GAAG,MAAM,QAAQ,GAAG,CAAC;oBAAC,MAAM;oBAAkB,MAAM;iBAAmB;gBAEzG,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,cAAc,EAAE,EAAE;oBACxC,MAAM,IAAI,MAAM;gBAClB;gBAEA,MAAM,eAAe,MAAM,YAAY,IAAI;gBAC3C,MAAM,iBAAiB,MAAM,cAAc,IAAI;gBAE/C,YAAY;gBACZ,cAAc;gBACd,IAAI,eAAe,MAAM,GAAG,GAAG;oBAC7B,oBAAoB,cAAc,CAAC,EAAE,CAAC,IAAI;gBAC5C;YACF,EAAE,OAAO,KAAK;gBACZ,SAAS;gBACT,QAAQ,KAAK,CAAC;YAChB,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG,EAAE;IAEL,MAAM,mBAAmB,mBAAmB,SAAS,MAAM,CAAC,CAAC,IAAM,EAAE,aAAa,KAAK,oBAAoB;IAE3G,IAAI,SAAS;QACX,qBAAO,8OAAC;YAAI,WAAU;sBAAmB;;;;;;IAC3C;IAEA,IAAI,OAAO;QACT,qBAAO,8OAAC;YAAI,WAAU;sBAAqC;;;;;;IAC7D;IAEA,qBACE,8OAAC;;0BACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA0B;;;;;;kCACxC,8OAAC;wBAAI,WAAU;kCACZ,WAAW,GAAG,CAAC,CAAC,oBACf,8OAAC;gCAEC,SAAS,IAAM,oBAAoB,IAAI,IAAI;gCAC3C,WAAW,CAAC,8CAA8C,EACxD,qBAAqB,IAAI,IAAI,GACzB,2BACA,qFACJ;0CAED,IAAI,IAAI;+BARJ,IAAI,EAAE;;;;;;;;;;;;;;;;0BAcnB,8OAAC;gBAAI,WAAU;0BACZ,iBAAiB,GAAG,CAAC,CAAC,wBACrB,8OAAC,mJAAW;wBAAkB,SAAS;wBAAS,aAAa,IAAM,YAAY;uBAA7D,QAAQ,EAAE;;;;;;;;;;;;;;;;AAKtC"}},
    {"offset": {"line": 366, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Golux/Downloads/CafeITOax/components/client/cart.tsx"],"sourcesContent":["\"use client\"\n\ninterface CartItem {\n  id: number\n  name: string\n  price: number | string\n  quantity: number\n}\n\ninterface CartProps {\n  items: CartItem[]\n  onRemove: (productId: number) => void\n  onUpdateQuantity: (productId: number, quantity: number) => void\n  onCheckout: () => void\n}\n\nexport default function Cart({ items, onRemove, onUpdateQuantity, onCheckout }: CartProps) {\n  const total = items.reduce((sum, item) => {\n    const price = typeof item.price === \"string\" ? Number.parseFloat(item.price) : item.price\n    return sum + (isNaN(price) ? 0 : price) * item.quantity\n  }, 0)\n\n  return (\n    <div className=\"cafeito-card p-6 sticky top-24\">\n      <h2 className=\"text-xl font-bold mb-4\">Carrito</h2>\n\n      {items.length === 0 ? (\n        <p className=\"text-muted-foreground text-center py-8\">Carrito vac√≠o</p>\n      ) : (\n        <>\n          <div className=\"space-y-3 max-h-96 overflow-y-auto mb-4\">\n            {items.map((item) => {\n              const price = typeof item.price === \"string\" ? Number.parseFloat(item.price) : item.price\n              const displayPrice = isNaN(price) ? 0 : price\n              return (\n                <div key={item.id} className=\"flex items-center justify-between p-3 bg-muted rounded-lg\">\n                  <div className=\"flex-1\">\n                    <p className=\"font-semibold\">{item.name}</p>\n                    <p className=\"text-sm text-muted-foreground\">${displayPrice.toFixed(2)}</p>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <button\n                      onClick={() => onUpdateQuantity(item.id, item.quantity - 1)}\n                      className=\"w-6 h-6 flex items-center justify-center bg-white rounded\"\n                    >\n                      -\n                    </button>\n                    <span className=\"w-6 text-center font-semibold\">{item.quantity}</span>\n                    <button\n                      onClick={() => onUpdateQuantity(item.id, item.quantity + 1)}\n                      className=\"w-6 h-6 flex items-center justify-center bg-white rounded\"\n                    >\n                      +\n                    </button>\n                    <button onClick={() => onRemove(item.id)} className=\"ml-2 text-destructive font-bold\">\n                      ‚úï\n                    </button>\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n\n          <div className=\"border-t border-border pt-4 mb-4\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <span className=\"font-bold text-lg\">Total:</span>\n              <span className=\"text-2xl font-bold text-primary\">${total.toFixed(2)}</span>\n            </div>\n          </div>\n\n          <button\n            onClick={onCheckout}\n            className=\"w-full cafeito-button-primary py-3 rounded-lg font-bold text-lg hover:bg-primary/90 transition\"\n          >\n            Proceder a Pagar\n          </button>\n        </>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAgBe,SAAS,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,gBAAgB,EAAE,UAAU,EAAa;IACvF,MAAM,QAAQ,MAAM,MAAM,CAAC,CAAC,KAAK;QAC/B,MAAM,QAAQ,OAAO,KAAK,KAAK,KAAK,WAAW,OAAO,UAAU,CAAC,KAAK,KAAK,IAAI,KAAK,KAAK;QACzF,OAAO,MAAM,CAAC,MAAM,SAAS,IAAI,KAAK,IAAI,KAAK,QAAQ;IACzD,GAAG;IAEH,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAyB;;;;;;YAEtC,MAAM,MAAM,KAAK,kBAChB,8OAAC;gBAAE,WAAU;0BAAyC;;;;;qCAEtD;;kCACE,8OAAC;wBAAI,WAAU;kCACZ,MAAM,GAAG,CAAC,CAAC;4BACV,MAAM,QAAQ,OAAO,KAAK,KAAK,KAAK,WAAW,OAAO,UAAU,CAAC,KAAK,KAAK,IAAI,KAAK,KAAK;4BACzF,MAAM,eAAe,MAAM,SAAS,IAAI;4BACxC,qBACE,8OAAC;gCAAkB,WAAU;;kDAC3B,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAE,WAAU;0DAAiB,KAAK,IAAI;;;;;;0DACvC,8OAAC;gDAAE,WAAU;;oDAAgC;oDAAE,aAAa,OAAO,CAAC;;;;;;;;;;;;;kDAEtE,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDACC,SAAS,IAAM,iBAAiB,KAAK,EAAE,EAAE,KAAK,QAAQ,GAAG;gDACzD,WAAU;0DACX;;;;;;0DAGD,8OAAC;gDAAK,WAAU;0DAAiC,KAAK,QAAQ;;;;;;0DAC9D,8OAAC;gDACC,SAAS,IAAM,iBAAiB,KAAK,EAAE,EAAE,KAAK,QAAQ,GAAG;gDACzD,WAAU;0DACX;;;;;;0DAGD,8OAAC;gDAAO,SAAS,IAAM,SAAS,KAAK,EAAE;gDAAG,WAAU;0DAAkC;;;;;;;;;;;;;+BAnBhF,KAAK,EAAE;;;;;wBAyBrB;;;;;;kCAGF,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAK,WAAU;8CAAoB;;;;;;8CACpC,8OAAC;oCAAK,WAAU;;wCAAkC;wCAAE,MAAM,OAAO,CAAC;;;;;;;;;;;;;;;;;;kCAItE,8OAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;AAOX"}},
    {"offset": {"line": 547, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Golux/Downloads/CafeITOax/components/client/checkout.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\n\nimport { useState } from \"react\"\n\ninterface CheckoutProps {\n  items: any[]\n  onBackToCatalog: () => void\n}\n\nexport default function Checkout({ items, onBackToCatalog }: CheckoutProps) {\n  const [customerInfo, setCustomerInfo] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n  })\n  const [paymentMethod, setPaymentMethod] = useState(\"cash\")\n  const [notes, setNotes] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n  const [success, setSuccess] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n\n  const total = items.reduce((sum: number, item: any) => {\n    const price = typeof item.price === \"string\" ? Number.parseFloat(item.price) : item.price\n    return sum + (isNaN(price) ? 0 : price) * item.quantity\n  }, 0)\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setLoading(true)\n    setError(null)\n\n    try {\n      const response = await fetch(\"/api/orders\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          customer_name: customerInfo.name,\n          customer_email: customerInfo.email,\n          customer_phone: customerInfo.phone,\n          items: items.map((item) => ({\n            product_id: item.id,\n            quantity: item.quantity,\n          })),\n          payment_method: paymentMethod,\n          notes,\n        }),\n      })\n\n      if (!response.ok) {\n        throw new Error(\"Error creando orden\")\n      }\n\n      const order = await response.json()\n      setSuccess(true)\n\n      setTimeout(() => {\n        onBackToCatalog()\n      }, 2000)\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Error desconocido\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  if (success) {\n    return (\n      <div className=\"cafeito-card p-8 max-w-lg mx-auto text-center\">\n        <h2 className=\"text-2xl font-bold text-secondary mb-4\">¬°Orden Confirmada!</h2>\n        <p className=\"text-lg mb-4\">Gracias por su compra. Su orden ha sido registrada.</p>\n        <p className=\"text-sm text-muted-foreground\">Redirigiendo al cat√°logo...</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8 max-w-6xl mx-auto\">\n      <div className=\"lg:col-span-2\">\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div className=\"cafeito-card p-6\">\n            <h2 className=\"text-xl font-bold mb-4\">Informaci√≥n de Contacto</h2>\n            <div className=\"space-y-4\">\n              <input\n                type=\"text\"\n                placeholder=\"Nombre\"\n                required\n                value={customerInfo.name}\n                onChange={(e) => setCustomerInfo({ ...customerInfo, name: e.target.value })}\n                className=\"w-full px-4 py-2 border border-border rounded-lg bg-input\"\n              />\n              <input\n                type=\"email\"\n                placeholder=\"Email\"\n                value={customerInfo.email}\n                onChange={(e) => setCustomerInfo({ ...customerInfo, email: e.target.value })}\n                className=\"w-full px-4 py-2 border border-border rounded-lg bg-input\"\n              />\n              <input\n                type=\"tel\"\n                placeholder=\"Tel√©fono\"\n                value={customerInfo.phone}\n                onChange={(e) => setCustomerInfo({ ...customerInfo, phone: e.target.value })}\n                className=\"w-full px-4 py-2 border border-border rounded-lg bg-input\"\n              />\n            </div>\n          </div>\n\n          <div className=\"cafeito-card p-6\">\n            <h2 className=\"text-xl font-bold mb-4\">M√©todo de Pago</h2>\n            <div className=\"space-y-2\">\n              {[\"cash\", \"card\", \"transfer\"].map((method) => (\n                <label key={method} className=\"flex items-center gap-2 cursor-pointer\">\n                  <input\n                    type=\"radio\"\n                    name=\"payment\"\n                    value={method}\n                    checked={paymentMethod === method}\n                    onChange={(e) => setPaymentMethod(e.target.value)}\n                  />\n                  <span className=\"capitalize\">\n                    {method === \"cash\" ? \"Efectivo\" : method === \"card\" ? \"Tarjeta\" : \"Transferencia\"}\n                  </span>\n                </label>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"cafeito-card p-6\">\n            <h2 className=\"text-xl font-bold mb-4\">Notas Especiales</h2>\n            <textarea\n              placeholder=\"Ej: Sin az√∫car en el caf√©...\"\n              value={notes}\n              onChange={(e) => setNotes(e.target.value)}\n              className=\"w-full px-4 py-2 border border-border rounded-lg bg-input min-h-24\"\n            />\n          </div>\n\n          {error && <div className=\"text-destructive font-semibold\">{error}</div>}\n\n          <div className=\"flex gap-4\">\n            <button\n              type=\"button\"\n              onClick={onBackToCatalog}\n              className=\"flex-1 px-4 py-3 border border-border rounded-lg font-semibold hover:bg-muted transition\"\n            >\n              Volver\n            </button>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"flex-1 cafeito-button-primary py-3 rounded-lg font-bold hover:bg-primary/90 transition disabled:opacity-50\"\n            >\n              {loading ? \"Procesando...\" : \"Confirmar Orden\"}\n            </button>\n          </div>\n        </form>\n      </div>\n\n      <div className=\"cafeito-card p-6 h-fit sticky top-24\">\n        <h2 className=\"text-xl font-bold mb-4\">Resumen</h2>\n        <div className=\"space-y-3 mb-4\">\n          {items.map((item) => {\n            const price = typeof item.price === \"string\" ? Number.parseFloat(item.price) : item.price\n            const displayPrice = isNaN(price) ? 0 : price\n            return (\n              <div key={item.id} className=\"flex justify-between text-sm\">\n                <span>\n                  {item.name} x{item.quantity}\n                </span>\n                <span className=\"font-semibold\">${(displayPrice * item.quantity).toFixed(2)}</span>\n              </div>\n            )\n          })}\n        </div>\n        <div className=\"border-t border-border pt-4\">\n          <div className=\"flex justify-between items-center\">\n            <span className=\"font-bold text-lg\">Total:</span>\n            <span className=\"text-2xl font-bold text-primary\">${total.toFixed(2)}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 956, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Golux/Downloads/CafeITOax/app/cliente/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport Link from \"next/link\"\nimport Header from \"@/components/client/header\"\nimport ProductCatalog from \"@/components/client/product-catalog\"\nimport Cart from \"@/components/client/cart\"\nimport Checkout from \"@/components/client/checkout\"\n\nexport default function ClientePage() {\n  const [view, setView] = useState<\"catalog\" | \"checkout\">(\"catalog\")\n  const [cart, setCart] = useState<any[]>([])\n  const [showCart, setShowCart] = useState(false)\n\n  const addToCart = (product: any) => {\n    setCart((prev) => {\n      const existing = prev.find((item) => item.id === product.id)\n      if (existing) {\n        return prev.map((item) => (item.id === product.id ? { ...item, quantity: item.quantity + 1 } : item))\n      }\n      return [...prev, { ...product, quantity: 1 }]\n    })\n  }\n\n  const removeFromCart = (productId: number) => {\n    setCart((prev) => prev.filter((item) => item.id !== productId))\n  }\n\n  const updateQuantity = (productId: number, quantity: number) => {\n    if (quantity <= 0) {\n      removeFromCart(productId)\n    } else {\n      setCart((prev) => prev.map((item) => (item.id === productId ? { ...item, quantity } : item)))\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      <Header cartCount={cart.length} onCartClick={() => setShowCart(!showCart)} />\n\n      <main className=\"container mx-auto px-4 py-8\">\n        {view === \"catalog\" ? (\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n            <div className=\"lg:col-span-2\">\n              <ProductCatalog onAddToCart={addToCart} />\n            </div>\n            {showCart && (\n              <div className=\"lg:col-span-1\">\n                <Cart\n                  items={cart}\n                  onRemove={removeFromCart}\n                  onUpdateQuantity={updateQuantity}\n                  onCheckout={() => setView(\"checkout\")}\n                />\n              </div>\n            )}\n          </div>\n        ) : (\n          <Checkout\n            items={cart}\n            onBackToCatalog={() => {\n              setView(\"catalog\")\n              setCart([])\n            }}\n          />\n        )}\n      </main>\n\n      <footer className=\"mt-12 py-6 border-t border-border text-center text-muted-foreground\">\n        <Link href=\"/\" className=\"hover:text-primary transition\">\n          ‚Üê Volver al inicio\n        </Link>\n      </footer>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAyB;IACzD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAQ,EAAE;IAC1C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,MAAM,YAAY,CAAC;QACjB,QAAQ,CAAC;YACP,MAAM,WAAW,KAAK,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,QAAQ,EAAE;YAC3D,IAAI,UAAU;gBACZ,OAAO,KAAK,GAAG,CAAC,CAAC,OAAU,KAAK,EAAE,KAAK,QAAQ,EAAE,GAAG;wBAAE,GAAG,IAAI;wBAAE,UAAU,KAAK,QAAQ,GAAG;oBAAE,IAAI;YACjG;YACA,OAAO;mBAAI;gBAAM;oBAAE,GAAG,OAAO;oBAAE,UAAU;gBAAE;aAAE;QAC/C;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,QAAQ,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;IACtD;IAEA,MAAM,iBAAiB,CAAC,WAAmB;QACzC,IAAI,YAAY,GAAG;YACjB,eAAe;QACjB,OAAO;YACL,QAAQ,CAAC,OAAS,KAAK,GAAG,CAAC,CAAC,OAAU,KAAK,EAAE,KAAK,YAAY;wBAAE,GAAG,IAAI;wBAAE;oBAAS,IAAI;QACxF;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,0IAAM;gBAAC,WAAW,KAAK,MAAM;gBAAE,aAAa,IAAM,YAAY,CAAC;;;;;;0BAEhE,8OAAC;gBAAK,WAAU;0BACb,SAAS,0BACR,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,sJAAc;gCAAC,aAAa;;;;;;;;;;;wBAE9B,0BACC,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,wIAAI;gCACH,OAAO;gCACP,UAAU;gCACV,kBAAkB;gCAClB,YAAY,IAAM,QAAQ;;;;;;;;;;;;;;;;yCAMlC,8OAAC,4IAAQ;oBACP,OAAO;oBACP,iBAAiB;wBACf,QAAQ;wBACR,QAAQ,EAAE;oBACZ;;;;;;;;;;;0BAKN,8OAAC;gBAAO,WAAU;0BAChB,cAAA,8OAAC,uKAAI;oBAAC,MAAK;oBAAI,WAAU;8BAAgC;;;;;;;;;;;;;;;;;AAMjE"}}]
}